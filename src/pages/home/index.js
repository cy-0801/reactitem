import React, { Component } from 'react'
import { HomeWrapper } from "./styled"
import { index_header, home_iconList ,search} from "@api/home"
import { mapStateToProps, mapDispatchToProps } from "./connect";
import { connect } from "react-redux";
import {Link} from "react-router-dom"

class Home extends Component {
    state={
        iconList:[]
    }
    
    render() {
        let { iconList } = this.state;
        return (
            <HomeWrapper>
                <div className="header">
                    <p>
                        <i className="iconfont">&#xe611;</i>
                        <span>新康园</span>
                        <i className="iconfont">&#xe65a;</i>
                    </p>
                </div>
                <div className="header0">
                    <Link to="/search"><div className="search">
                            <i className="iconfont">&#xe60b;</i>
                            <span>搜索饿了么商家、商品名称</span>
                        </div>
                    </Link>
                </div>
                <div className="iconlist">
                    <ul>
                        {
                            iconList.map((item, index) => (
                                <li key={index}>
                                    <a href={"https://h5.ele.me/msite/food/#"+item.link.substr(20)}>
                                        <img src={"https://cube.elemecdn.com/"+item.image_hash.slice(0,1)+"/"+item.image_hash.slice(1,3)+"/"+item.image_hash.slice(3)+".jpeg?x-oss-process=image/format,webp/resize,w_90,h_90,m_fixed"} />
                                        <span>{item.name}</span>
                                    </a>
                                </li>
                            ))
                        }
                    </ul>
                </div>
                <div className="banner_01">
                    <a href="http://www.baidu.com">
                        <div className="banner_01_left">
                            <p>品质套餐</p>
                            <p>搭配齐全吃的好</p>
                            <p>立即抢购</p>
                        </div>
                        <div className="banner_01_right">
                            <img src="https://cube.elemecdn.com/e/ee/df43e7e53f6e1346c3fda0609f1d3png.png?x-oss-process=image/format,webp/resize,w_282,h_188,m_fixed" alt="" />
                        </div>
                    </a>
                </div>
                <div className="banner_02">
                    <span>超级会员</span>
                    <span>每月领20元红包</span>
                    <span>立即开通</span>
                </div>
                <div className="banner_03">
                    <a href="">
                        <img src="https://cube.elemecdn.com/7/2a/9e3dc268f03be38e485451d2307b8png.png?x-oss-process=image/format,webp/resize,w_568" alt="" />
                    </a>
                </div>
                <div className="tuijian">
                    --  推荐商家  --
                </div>
                <div className="select">
                    <ul>
                        <li>
                            <span>综合排序</span>
                            <i className="iconfont">&#xe65a;</i>
                        </li>
                        <li>
                            <span>距离最近</span>

                        </li>
                        <li>
                            <span>品质联盟</span>

                        </li>
                        <li>
                            <span>筛选</span>
                            <i className="iconfont">&#xe608;</i>
                        </li>
                    </ul>
                </div>
                <div className="contain">
                    <ul>
                        <li>
                            <Link to="/detail/id=1">
                                <img src="https://cube.elemecdn.com/1/72/3c54d8b5a9b582555bc9e97430acfpng.png?x-oss-process=image/format,webp/resize,w_130,h_130,m_fixed" alt="必胜客宅急送（回龙观东店" />
                                <div>
                                    <p>
                                        <span className="p0_span0">品牌</span>
                                        <span className="p0_span1">必胜客宅急送（回龙观东店）</span>
                                        <span className="p0_span2">···</span>
                                    </p>
                                    <p className="p1">
                                        <img className="p1_span0" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTU0LjAxNyA4LjA3MmwtMi41NTIgMS41NjFjLS40NzYuMjkxLS43NTguMDk2LS42MjYtLjQ1NWwuNjk2LTIuOTA5LTIuMjczLTEuOTQ0Yy0uNDI0LS4zNjItLjMyNS0uNjkxLjIzOS0uNzM2bDIuOTgyLS4yMzdMNTMuNjMuNTg5Yy4yMTMtLjUxNS41NTctLjUyMy43NzQgMGwxLjE0NiAyLjc2MyAyLjk4Mi4yMzdjLjU1Ni4wNDQuNjcuMzY4LjI0LjczNmwtMi4yNzQgMS45NDQuNjk2IDIuOTFjLjEzLjU0Mi0uMTQzLjc1LS42MjYuNDU0bC0yLjU1MS0xLjU2em0tNDggMEwzLjQ2NSA5LjYzM2MtLjQ3Ni4yOTEtLjc1OC4wOTYtLjYyNi0uNDU1bC42OTYtMi45MDktMi4yNzMtMS45NDRjLS40MjQtLjM2Mi0uMzI1LS42OTEuMjM5LS43MzZsMi45ODItLjIzN0w1LjYzLjU4OWMuMjEzLS41MTUuNTU3LS41MjMuNzc0IDBMNy41NSAzLjM1MmwyLjk4Mi4yMzdjLjU1Ni4wNDQuNjcuMzY4LjI0LjczNkw4LjQ5NyA2LjI2OWwuNjk2IDIuOTFjLjEzLjU0Mi0uMTQzLjc1LS42MjYuNDU0bC0yLjU1MS0xLjU2em0xMiAwbC0yLjU1MiAxLjU2MWMtLjQ3Ni4yOTEtLjc1OC4wOTYtLjYyNi0uNDU1bC42OTYtMi45MDktMi4yNzMtMS45NDRjLS40MjQtLjM2Mi0uMzI1LS42OTEuMjM5LS43MzZsMi45ODItLjIzN0wxNy42My41ODljLjIxMy0uNTE1LjU1Ny0uNTIzLjc3NCAwbDEuMTQ2IDIuNzYzIDIuOTgyLjIzN2MuNTU2LjA0NC42Ny4zNjguMjQuNzM2bC0yLjI3NCAxLjk0NC42OTYgMi45MWMuMTMuNTQyLS4xNDMuNzUtLjYyNi40NTRsLTIuNTUxLTEuNTZ6bTEyIDBsLTIuNTUyIDEuNTYxYy0uNDc2LjI5MS0uNzU4LjA5Ni0uNjI2LS40NTVsLjY5Ni0yLjkwOS0yLjI3My0xLjk0NGMtLjQyNC0uMzYyLS4zMjUtLjY5MS4yMzktLjczNmwyLjk4Mi0uMjM3TDI5LjYzLjU4OWMuMjEzLS41MTUuNTU3LS41MjMuNzc0IDBsMS4xNDYgMi43NjMgMi45ODIuMjM3Yy41NTYuMDQ0LjY3LjM2OC4yNC43MzZsLTIuMjc0IDEuOTQ0LjY5NiAyLjkxYy4xMy41NDItLjE0My43NS0uNjI2LjQ1NGwtMi41NTEtMS41NnptMTIgMGwtMi41NTIgMS41NjFjLS40NzYuMjkxLS43NTguMDk2LS42MjYtLjQ1NWwuNjk2LTIuOTA5LTIuMjczLTEuOTQ0Yy0uNDI0LS4zNjItLjMyNS0uNjkxLjIzOS0uNzM2bDIuOTgyLS4yMzdMNDEuNjMuNTg5Yy4yMTMtLjUxNS41NTctLjUyMy43NzQgMGwxLjE0NiAyLjc2MyAyLjk4Mi4yMzdjLjU1Ni4wNDQuNjcuMzY4LjI0LjczNmwtMi4yNzQgMS45NDQuNjk2IDIuOTFjLjEzLjU0Mi0uMTQzLjc1LS42MjYuNDU0bC0yLjU1MS0xLjU2eiIgZmlsbD0iI0VFRSIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+" alt="" />
                                        <span className="p1_span1">4.9</span>
                                        <span className="p1_span2">月售3031单</span>
                                    </p>
                                    <p className="p2">
                                        ¥<span>0</span>起送
                                        |
                                        配送费<span>¥5</span>
                                    </p>
                                    <p className="p3">
                                        <span className="p3_span0">披萨</span>
                                        <span className="p3_span1">品质联盟</span>
                                    </p>
                                    <p className="p4">
                                        <span className="p4_span0">减</span>
                                        <span className="p4_span1">满110减50</span>
                                    </p>
                                    <p className="p5">
                                        <span className="p4_span0">减</span>
                                        <span>特价商品5元起</span>
                                    </p>
                                </div>
                            </Link>
                        </li>
                        <li>
                            <a href="">
                                <img src="https://cube.elemecdn.com/1/72/3c54d8b5a9b582555bc9e97430acfpng.png?x-oss-process=image/format,webp/resize,w_130,h_130,m_fixed" alt="必胜客宅急送（回龙观东店" />
                                <div>
                                    <p>
                                        <span className="p0_span0">品牌</span>
                                        <span className="p0_span1">必胜客宅急送（回龙观东店）</span>
                                        <span className="p0_span2">···</span>
                                    </p>
                                    <p className="p1">
                                        <img className="p1_span0" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTU0LjAxNyA4LjA3MmwtMi41NTIgMS41NjFjLS40NzYuMjkxLS43NTguMDk2LS42MjYtLjQ1NWwuNjk2LTIuOTA5LTIuMjczLTEuOTQ0Yy0uNDI0LS4zNjItLjMyNS0uNjkxLjIzOS0uNzM2bDIuOTgyLS4yMzdMNTMuNjMuNTg5Yy4yMTMtLjUxNS41NTctLjUyMy43NzQgMGwxLjE0NiAyLjc2MyAyLjk4Mi4yMzdjLjU1Ni4wNDQuNjcuMzY4LjI0LjczNmwtMi4yNzQgMS45NDQuNjk2IDIuOTFjLjEzLjU0Mi0uMTQzLjc1LS42MjYuNDU0bC0yLjU1MS0xLjU2em0tNDggMEwzLjQ2NSA5LjYzM2MtLjQ3Ni4yOTEtLjc1OC4wOTYtLjYyNi0uNDU1bC42OTYtMi45MDktMi4yNzMtMS45NDRjLS40MjQtLjM2Mi0uMzI1LS42OTEuMjM5LS43MzZsMi45ODItLjIzN0w1LjYzLjU4OWMuMjEzLS41MTUuNTU3LS41MjMuNzc0IDBMNy41NSAzLjM1MmwyLjk4Mi4yMzdjLjU1Ni4wNDQuNjcuMzY4LjI0LjczNkw4LjQ5NyA2LjI2OWwuNjk2IDIuOTFjLjEzLjU0Mi0uMTQzLjc1LS42MjYuNDU0bC0yLjU1MS0xLjU2em0xMiAwbC0yLjU1MiAxLjU2MWMtLjQ3Ni4yOTEtLjc1OC4wOTYtLjYyNi0uNDU1bC42OTYtMi45MDktMi4yNzMtMS45NDRjLS40MjQtLjM2Mi0uMzI1LS42OTEuMjM5LS43MzZsMi45ODItLjIzN0wxNy42My41ODljLjIxMy0uNTE1LjU1Ny0uNTIzLjc3NCAwbDEuMTQ2IDIuNzYzIDIuOTgyLjIzN2MuNTU2LjA0NC42Ny4zNjguMjQuNzM2bC0yLjI3NCAxLjk0NC42OTYgMi45MWMuMTMuNTQyLS4xNDMuNzUtLjYyNi40NTRsLTIuNTUxLTEuNTZ6bTEyIDBsLTIuNTUyIDEuNTYxYy0uNDc2LjI5MS0uNzU4LjA5Ni0uNjI2LS40NTVsLjY5Ni0yLjkwOS0yLjI3My0xLjk0NGMtLjQyNC0uMzYyLS4zMjUtLjY5MS4yMzktLjczNmwyLjk4Mi0uMjM3TDI5LjYzLjU4OWMuMjEzLS41MTUuNTU3LS41MjMuNzc0IDBsMS4xNDYgMi43NjMgMi45ODIuMjM3Yy41NTYuMDQ0LjY3LjM2OC4yNC43MzZsLTIuMjc0IDEuOTQ0LjY5NiAyLjkxYy4xMy41NDItLjE0My43NS0uNjI2LjQ1NGwtMi41NTEtMS41NnptMTIgMGwtMi41NTIgMS41NjFjLS40NzYuMjkxLS43NTguMDk2LS42MjYtLjQ1NWwuNjk2LTIuOTA5LTIuMjczLTEuOTQ0Yy0uNDI0LS4zNjItLjMyNS0uNjkxLjIzOS0uNzM2bDIuOTgyLS4yMzdMNDEuNjMuNTg5Yy4yMTMtLjUxNS41NTctLjUyMy43NzQgMGwxLjE0NiAyLjc2MyAyLjk4Mi4yMzdjLjU1Ni4wNDQuNjcuMzY4LjI0LjczNmwtMi4yNzQgMS45NDQuNjk2IDIuOTFjLjEzLjU0Mi0uMTQzLjc1LS42MjYuNDU0bC0yLjU1MS0xLjU2eiIgZmlsbD0iI0VFRSIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+" alt="" />
                                        <span className="p1_span1">4.9</span>
                                        <span className="p1_span2">月售3031单</span>
                                    </p>
                                    <p className="p2">
                                        ¥<span>0</span>起送
                                        |
                                        配送费<span>¥5</span>
                                    </p>
                                    <p className="p3">
                                        <span className="p3_span0">披萨</span>
                                        <span className="p3_span1">品质联盟</span>
                                    </p>
                                    <p className="p4">
                                        <span className="p4_span0">减</span>
                                        <span className="p4_span1">满110减50</span>
                                    </p>
                                    <p className="p5">
                                        <span className="p4_span0">减</span>
                                        <span>特价商品5元起</span>
                                    </p>
                                </div>
                            </a>
                        </li>
                    </ul>
                </div>
                <div className="back">
                    <i className="iconfont">&#xe61d;</i>
                </div>
            </HomeWrapper>
        )
    }
    async componentDidMount() {  
        let data = await home_iconList();  
        this.setState({   
            iconList: data[0].entries.slice(0,10)
        })
    }    
}


export default connect(mapStateToProps,mapDispatchToProps)(Home);

